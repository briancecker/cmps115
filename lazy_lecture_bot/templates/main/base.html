<!DOCTYPE html>
<html lang="en">
<head>
	<title>{% block title %}Lazy Lecture Bot{% endblock title %}</title>
	
	{% block head %}
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	{% load staticfiles %}
	<!--link rel="stylesheet" type="text/css" href="{% static 'css/main_style.css' %}"-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
	<script src="https://use.fontawesome.com/e900c63c6f.js"></script>
	 {% endblock head %}
</head>

<body>
	{% block content %}
	<nav class="navbar navbar-default navbar-fixed-top container-fluid">
		<div class="row main-nav">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand" href='{% url "index" %}'>Lazy Lecture Bot</a>
			</div><!--END of Navbar Header or Site Logo-->


			<div class="dropdown navbar-right">
				{% if not request.user.is_authenticated and not "/login" in request.get_full_path %}
				<!-- Appears when user is not authenticated-->
				<button class="btn btn-primary dropdown-toggle a-dropdown-button" type="button" id="dropdownMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Sign In<span class="caret" style="margin-left:15px;"></span></button>
				<div class="dropdown-menu dropdown-menu-right a-dropdown-menu" aria-labelledby="dropdownMenu">
			        <div class="dropdown-item">
			        	<div class="container-fluid">
			        		<form class="navbar-form" method="POST" action="{% url 'auth_login' %}?redirect={{request.path}}">
			        		{% csrf_token %}
			        			<div class="form-group">
			        				<input id="username" type="text" class="form-control" name="username" required/>			        				
			        				<span class="bar"></span>
			        				<label for="username">Username</label>
			        			</div>
			        			<div class="form-group">
			        				<input id="password" type="password" class="form-control" name="password" required/>			        				
			        				<span class="bar"></span>
			        				<label for="password">Password</label>
			        			</div>
			        			<button type="submit" class="btn btn-primary btn-md btn-block"><b>Log In</b></button>
			        		</form>
			        	</div>
			        </div>
			        <!--a class="dropdown-item" href="#">Another action</a-->
			    </div>

			    {% elif request.user.is_authenticated %}
			    <!-- Appears when user is authenticated-->
			    <a href="{% url 'upload' %}" class="btn" style="background-color: rgb(46, 204, 113); color:white; border-radius: 0px; margin-top:9px;"><b><i class="fa fa-upload" aria-hidden="true" style="color:white; margin-right:15px;"></i>UPLOAD</b></a>

			    <button class="btn btn-primary dropdown-toggle a-dropdown-button" type="button" id="dropdownMenu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{user.username}}<span class="caret" style="margin-left:15px;"></span></button>
			    <div class="dropdown-menu dropdown-menu-right a-dropdown-menu" aria-labelledby="dropdownMenu">
			    	<a class="dropdown-item" href="{% url 'profile' user.username %}"><div class="auth-item"><i class="fa fa-user fa-fw" aria-hidden="true" style="margin-right:15px;"></i>My Profile</div></a>
			        <a class="dropdown-item" href="/"><div class="auth-item"><i class="fa fa-cogs fa-fw" aria-hidden="true" style="margin-right:15px;"></i>Settings</div></a>
			        <a class="dropdown-item" href="{% url 'logoff' %}?redirect={{request.path}}"><div class="auth-item"><i class="fa fa-sign-out fa-fw" aria-hidden="true" style="margin-right:15px;"></i>Logout</div></a>
			    </div>

			    {% endif %}
			</div><!--END of Dropdown Menu-->
		</div>
		</div>

		<div class="container secondary-nav-container">
			<div class="row secondary-nav">				
				{% if request.user.is_authenticated %}
				<a href="#" class="active"><div class="col-md-2 col-md-offset-2 text-center"><i class="fa fa-home" aria-hidden="true"></i>Home</div></a>
				<a href="#"><div class="col-md-2 text-center"><i class="fa fa-users" aria-hidden="true"></i>Subscriptions</div></a>
				<a href="#"><div class="col-md-2 text-center"><i class="fa fa-heart" aria-hidden="true"></i>My Favorites</div></a>
				<a href="#"><div class="col-md-2 text-center"><i class="fa fa-envelope" aria-hidden="true"></i>Messages</div></a>
				{% else %}
				<a href="#" class="active"><div class="col-md-2 col-md-offset-5 text-center"><i class="fa fa-home" aria-hidden="true"></i>Home</div></a>
				{% endif %}
			</div>
		</div>

	</nav>

	{% if messages %}
		{% for message in messages %}
			<div class="container">
        		<div class="alert alert-{{message.tags}} fade in" role="alert" >
        			<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        			<strong>{{ message }}</strong>
        		</div>
    		</div>
    	{% endfor %}
	{% endif %}

	<style type="text/css">
		.main-nav {
			background-color: #2C3E50;
		}
		.navbar {
			background-color: #FFF;
		}

		.navbar-brand {
			color:white !important;
			font-weight: bold;
		}
		.secondary-nav {
			background-color: #FFF;
		}
		.secondary-nav > a {
			color: #6C7A89;
			padding-top: 15px;
			padding-bottom: 15px;
			transition: all 0.3s cubic-bezier(.25,.8,.25,1) !important;
		}
		.secondary-nav > a.active{
			color: #F9690E;
			font-weight: bold;
		}
		.secondary-nav > a:hover {
			color: #F9BF3B;
		}
		.secondary-nav > a.active:hover {
			color: #F9690E;
		}
		.secondary-nav > a > div {
			
			padding-top: 15px;
			padding-bottom: 15px;
		}

		.secondary-nav > a > div > i {
			margin-right: 10px;
		}

		body {
			margin-top: 100px;
			background-color: #ecf0f1;
		}

		.a-dropdown-button {
			border-radius: 0px;
			margin-top: 8px;
		}

		.a-dropdown-menu {
			border-radius: 0px;
			margin-top:5px;
			padding-top:  20px;
			padding-bottom: 17px;
			transition: all 0.3s cubic-bezier(.25,.8,.25,1) !important;
		}

		.auth-item {
			padding-top: 10px;
			padding-bottom: 10px;
			padding-left: 25px;
			padding-right: 10px;
			background-color: ;
		}

		.dropdown-item {
			color: #6C7A89;
			transition: all 0.3s cubic-bezier(.25,.8,.25,1) !important;
		}

		.dropdown-item:hover {
			text-decoration: none !important;
			color: #F9BF3B;
		}

		.a-dropdown-menu .form-group {
			margin-top: 16px;
		}

		.a-dropdown-menu .form-control {
			border-radius: 0px;
			border-top: 0px;
			border-left: 0px;
			border-right: 0px;
			border-bottom: 2px solid #F2F1EF;
			box-shadow: none;
			padding-left: 0px;
			margin-top: 0px;
		}

		.a-dropdown-menu .form-control:focus {
			border-bottom: 2px solid #F2F1EF;
		}

		/*==== BOTTOM BARS ====*/
		.bar { position:relative; display:block; width:182px; }
		.bar:after     {
		  content:'';
		  height:2px; 
		  width:0;
		  bottom:1px; 
		  position:absolute;
		  background:#5264AE; 
		  transition: all 0.3s cubic-bezier(.25,.8,.25,1) !important;
		  -moz-transition:all 0.3s cubic-bezier(.25,.8,.25,1) !important;
		  -webkit-transition:all 0.3s cubic-bezier(.25,.8,.25,1) !important;
		}
		.bar:before {
		  left:100%;
		}

		/* active state */
		input:focus ~ .bar:before, input:focus ~ .bar:after {
		  width:100%;
		}

		/*====== LABELS =======*/

		.a-dropdown-menu .form-group label {
			position:relative;
			pointer-events:none;
			font-size: 18px;
			font-weight: lighter;
			color: gray;
			margin-bottom: 0px;
  			top:-27px;
  			transition: all 0.3s cubic-bezier(.25,.8,.25,1) !important;
		}

		/* active state */
		.form-group input:focus ~ label , .form-group input:valid ~ label {
		  top: -50px;
		  font-size:12px;
		  color:#5264AE;
		}

		.a-dropdown-menu button {
			margin-top: 0px;
			border-radius: 0px;
		}

		input:-webkit-autofill {
			-webkit-box-shadow: 0 0 0 1000px white inset !important;
		}
	</style>
	{% endblock content %}
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
</body>
</html>

